<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:composite="http://xmlns.jcp.org/jsf/composite"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:x="http://myfaces.apache.org/tomahawk"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
    xmlns:o="http://omnifaces.org/ui"
    xmlns:intranda="http://xmlns.jcp.org/jsf/composite/composites"
    xmlns:jsf="http://xmlns.jcp.org/jsf">

    <composite:interface>
    </composite:interface>

    <composite:implementation>

        <ui:fragment rendered="#{externalLoginBean.wizzardMode=='page1'}">
            <h2>
                <h:outputText value="#{msgs.login_new_account}" />
            </h2>

            <!-- account name -->
            <div class="form-group">
                <h:outputLabel
                    for="accountName"
                    value="#{msgs.login_new_account_accountName}" />
                <i
                    class="fa fa-asterisk pull-right font-asterisk"
                    title="#{msgs.requiredField}"
                    data-toggle="tooltip" />
                <div class="email controls">
                    <x:inputText
                        id="accountName"
                        pt:aria-label="#{msgs.login_new_account_accountName}"
                        forceId="true"
                        styleClass="form-control"
                        value="#{externalLoginBean.accountName}"
                        required="true">
                        <f:passThroughAttribute
                            name="placeholder"
                            value="#{msgs.login_new_account_accountName}" />
                    </x:inputText>
                </div>
            </div>

            <!-- password -->
            <div class="form-group">
                <h:outputLabel
                    for="password"
                    value="#{msgs.login_new_account_password}" />
                <i
                    class="fa fa-asterisk pull-right font-asterisk"
                    title="#{msgs.requiredField}"
                    data-toggle="tooltip" />
                <div class="email controls">
                    <x:inputSecret
                        id="password"
                        pt:aria-label="#{msgs.login_new_account_password}"
                        forceId="true"
                        styleClass="form-control"
                        value="#{externalLoginBean.password}"
                        required="true">
                        <f:passThroughAttribute
                            name="placeholder"
                            value="#{msgs.login_new_account_password}" />
                    </x:inputSecret>
                </div>
            </div>

            <!-- confirm password -->
            <div class="form-group">
                <h:outputLabel
                    for="password2"
                    value="#{msgs.login_new_account_password2}" />
                <i
                    class="fa fa-asterisk pull-right font-asterisk"
                    title="#{msgs.requiredField}"
                    data-toggle="tooltip" />
                <div class="email controls">
                    <x:inputSecret
                        id="password2"
                        pt:aria-label="#{msgs.login_new_account_password2}"
                        forceId="true"
                        styleClass="form-control"
                        value="#{externalLoginBean.confirmPassword}"
                        required="true">
                        <f:passThroughAttribute
                            name="placeholder"
                            value="#{msgs.login_new_account_password2}" />
                    </x:inputSecret>
                </div>
            </div>



            <!-- firstname -->
            <div class="form-group">
                <h:outputLabel
                    for="firstname"
                    value="#{msgs.firstname}" />
                <i
                    class="fa fa-asterisk pull-right font-asterisk"
                    title="#{msgs.requiredField}"
                    data-toggle="tooltip" />
                <div class="email controls">
                    <x:inputText
                        id="firstname"
                        pt:aria-label="#{msgs.firstname}"
                        forceId="true"
                        styleClass="form-control"
                        value="#{externalLoginBean.firstname}">
                        <f:passThroughAttribute
                            name="placeholder"
                            value="#{msgs.firstname}" />
                    </x:inputText>
                </div>
            </div>
            <!-- lastname -->
            <div class="form-group">
                <h:outputLabel
                    for="lastname"
                    value="#{msgs.lastname}" />
                <i
                    class="fa fa-asterisk pull-right font-asterisk"
                    title="#{msgs.requiredField}"
                    data-toggle="tooltip" />

                <div class="email controls">
                    <x:inputText
                        id="lastname"
                        pt:aria-label="#{msgs.lastname}"
                        forceId="true"
                        styleClass="form-control"
                        value="#{externalLoginBean.lastname}">
                        <f:passThroughAttribute
                            name="placeholder"
                            value="#{msgs.lastname}" />
                    </x:inputText>
                </div>
            </div>

            <!-- email address -->
            <div class="form-group">
                <h:outputLabel
                    for="emailAddress"
                    value="#{msgs.login_new_account_emailAddress}" />
                <i
                    class="fa fa-asterisk pull-right font-asterisk"
                    title="#{msgs.requiredField}"
                    data-toggle="tooltip" />
                <div class="email controls">
                    <x:inputText
                        id="emailAddress"
                        pt:aria-label="#{msgs.login_new_account_emailAddress}"
                        forceId="true"
                        styleClass="form-control"
                        value="#{externalLoginBean.emailAddress}"
                        required="true">
                        <f:passThroughAttribute
                            name="placeholder"
                            value="#{msgs.login_new_account_emailAddress}" />
                    </x:inputText>
                </div>
            </div>
            <!-- confirm email -->

            <div class="form-group">
                <h:outputLabel
                    for="emailAddress2"
                    value="#{msgs.login_new_account_emailAddress2}" />
                <i
                    class="fa fa-asterisk pull-right font-asterisk"
                    title="#{msgs.requiredField}"
                    data-toggle="tooltip" />

                <div class="email controls">
                    <x:inputText
                        id="emailAddress2"
                        pt:aria-label="#{msgs.login_new_account_emailAddress2}"
                        forceId="true"
                        styleClass="form-control"
                        value="#{externalLoginBean.confirmEmailAddress}"
                        required="true">
                        <f:passThroughAttribute
                            name="placeholder"
                            value="#{msgs.login_new_account_emailAddress2}" />
                    </x:inputText>
                </div>
            </div>

            <div class="form-group">
                <h:outputLabel
                    for="privacyStatement"
                    value="#{msgs.login_new_account_confirmPrivacyStatement}" />
                <i
                    class="fa fa-asterisk pull-right font-asterisk"
                    title="#{msgs.requiredField}"
                    data-toggle="tooltip" />

                <div class="email controls">
                    <h:selectBooleanCheckbox
                        id="privacyStatement"
                        pt:aria-label="#{msgs.login_new_account_confirmPrivacyStatement}"
                        forceId="true"
                        styleClass="form-control"
                        value="#{externalLoginBean.privacyTextAccepted}"
                        required="true">
                    </h:selectBooleanCheckbox>
                </div>
            </div>
            <div class="submit">
                <!-- create button -->
                <button
                    jsf:action="#{externalLoginBean.createAccount}"
                    jsf:id="create"
                    class="pull-right btn font-size-s"
                    style="background: #fff; outline: 1px solid #368ee0;">
                    <h:outputText value="#{msgs.login_new_account_createAccount}" />
                </button>
                <!-- cancel button -->
                <button
                    jsf:id="back"
                    class="float-left btn font-size-s"
                    style="background: #fff; outline: 1px solid #368ee0;"
                    jsf:immediate="true">
                    <f:setPropertyActionListener
                        value=""
                        target="#{externalLoginBean.uiStatus}" />
                    <h:outputText value="#{msgs.abbrechen}" />
                </button>
            </div>
        </ui:fragment>

        <ui:fragment rendered="#{externalLoginBean.wizzardMode=='page2'}">
            <h2>
                <h:outputText value="#{msgs.login_new_institution}" />
            </h2>
            <div class="form-group">
                <h:outputLabel
                    for="institutionName"
                    value="#{msgs.login_new_account_institutionName}" />
                <i
                    class="fa fa-asterisk pull-right font-asterisk"
                    title="#{msgs.requiredField}"
                    data-toggle="tooltip" />

                <div class="email controls">
                    <x:inputText
                        id="institutionName"
                        pt:aria-label="#{msgs.login_new_account_institutionName}"
                        forceId="true"
                        styleClass="form-control"
                        value="#{externalLoginBean.institutionName}"
                        required="true">
                        <f:passThroughAttribute
                            name="placeholder"
                            value="#{msgs.login_new_account_institutionName}" />
                    </x:inputText>
                </div>
            </div>


            <ui:repeat
                var="field"
                value="#{externalLoginBean.additionalFields['page2']}">

                <div class="form-group">
                    <h:outputLabel value="#{field.label}" />
                    <i
                        jsf:rendered="#{field.required}"
                        class="fa fa-asterisk pull-right font-asterisk"
                        title="#{msgs.requiredField}"
                        data-toggle="tooltip" />

                    <div class="email controls">
                        <x:inputText
                            rendered="#{field.fieldType=='input'}"
                            pt:aria-label="#{field.label}"
                            styleClass="form-control"
                            value="#{field.value}"
                            required="#{field.required}">
                            <f:ajax
                                render="@this"
                                execute="@this" />
                            <f:passThroughAttribute
                                name="placeholder"
                                value="#{field.label}" />
                        </x:inputText>


                    </div>
                </div>
            </ui:repeat>





        </ui:fragment>



        <ui:fragment rendered="#{externalLoginBean.wizzardMode=='page3'}">
            <h2>
                <h:outputText value="#{msgs.login_new_contact}" />
            </h2>
            <ui:repeat
                var="field"
                value="#{externalLoginBean.additionalFields['page3']}">

                <div class="form-group">
                    <h:outputLabel value="#{field.label}" />
                    <i
                        jsf:rendered="#{field.required}"
                        class="fa fa-asterisk pull-right font-asterisk"
                        title="#{msgs.requiredField}"
                        data-toggle="tooltip" />

                    <div class="email controls">
                        <x:inputText
                            rendered="#{field.fieldType=='input'}"
                            pt:aria-label="#{field.label}"
                            styleClass="form-control"
                            value="#{field.value}"
                            required="#{field.required}">
                            <f:ajax
                                render="@this"
                                execute="@this" />
                            <f:passThroughAttribute
                                name="placeholder"
                                value="#{field.label}" />
                        </x:inputText>

                        <x:inputTextarea
                            rendered="#{field.fieldType=='textarea'}"
                            pt:aria-label="#{field.label}"
                            styleClass="form-control"
                            value="#{field.value}"
                            required="#{field.required}">
                            <f:ajax
                                render="@this"
                                execute="@this" />
                            <f:passThroughAttribute
                                name="placeholder"
                                value="#{field.label}" />
                        </x:inputTextarea>


                        <h:selectOneMenu
                            rendered="#{field.fieldType=='dropdown'}"
                            styleClass="form-control"
                            value="#{field.value}"
                            pt:aria-label="#{field.label}">
                            <f:selectItem
                                itemValue="null"
                                itemLabel="#{msgs.bitteAuswaehlen}" />
                            <f:ajax
                                render="@this"
                                execute="@this" />
                            <f:selectItems value="#{field.selectItemList}" />
                        </h:selectOneMenu>

                        <h:selectBooleanCheckbox 
                            rendered="#{field.fieldType=='checkbox'}"
                            pt:aria-label="#{field.label}"
                            styleClass="form-control"
                            value="#{field.booleanValue}">
                            <f:ajax
                                render="@this"
                                execute="@this" />
                        </h:selectBooleanCheckbox>
                    </div>
                </div>
            </ui:repeat>


        </ui:fragment>

        <ui:fragment rendered="#{externalLoginBean.wizzardMode=='page4'}">
               <h2>
                <h:outputText value="#{msgs.login_new_additionalData}" />
            </h2>


Zugriffs- und Nutzungsberechtigung: Ich möchte eine Zugriffs- und Nutzungsberechtigung als Standard-Einstellung für alle zukünftig abgelieferten Publikationen vergeben. 

Informationstext: Informationen zu den Zugriffsberechtigungen und Nutzungslizenzen finden Sie [hier | Link zu einer Webseite mit Erläuterungen zu gesetzlichen Rahmenbedingungen und Empfehlungen der ZLB] 
Checkboxen-Feld
    • Bei aktivierter Checkbox werden Zugriffs- und Nutzungsberechtigungen zur Auswahl mittels Radiobuttons angezeigt.

Automatische Erinnerung per E-Mail: Ich möchte per E-Mail eine automatische Erinnerung an die Ablieferungspflicht erhalten.
Checkboxen-Feld
    • Bei aktivierter Checkbox wird eine Auswahlliste zur Häufigkeit der automatischen Erinnerung angezeigt (monatlich, quartalsweise, jährlich).


</ui:fragment>
        <ui:fragment rendered="#{externalLoginBean.wizzardMode=='page5'}">
                    <h2>
                <h:outputText value="#{msgs.login_new_activation}" />
            </h2>
        
        


Freischaltung:* Hiermit beantrage ich die Freischaltung zur Ablieferung digitaler Pflichtpublikationen
</ui:fragment>

        <ui:fragment rendered="#{externalLoginBean.wizzardMode!='page1'}">
            <div class="submit">
                <button
                    jsf:action="#{externalLoginBean.back}"
                    jsf:id="goBack"
                    class="float-left btn btn-primary font-size-s">
                    <h:outputText value="#{msgs.back}" />
                </button>

                <button
                    jsf:id="reloadConfig"
                    jsf:action="#{externalLoginBean.reloadConfiguration}"
                    style="margin-bottom: 20px;"
                    class="btn btn-primary font-size-s">
                    <h:outputText value="#{msgs.reloadConfiguration}" />
                </button>

                <button
                    jsf:id="goNext"
                    jsf:action="#{externalLoginBean.next}"
                    style="margin-bottom: 20px;"
                    class="btn btn-primary font-size-s pull-right">
                    <h:outputText value="#{msgs.next}" />

                </button>
            </div>

        </ui:fragment>

    </composite:implementation>

</ui:composition>