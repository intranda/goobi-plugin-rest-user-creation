<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:composite="http://xmlns.jcp.org/jsf/composite"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:x="http://myfaces.apache.org/tomahawk"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
    xmlns:o="http://omnifaces.org/ui"
    xmlns:intranda="http://xmlns.jcp.org/jsf/composite/composites"
    xmlns:zlb="http://xmlns.jcp.org/jsf/composite/composites"
    xmlns:jsf="http://xmlns.jcp.org/jsf">

    <composite:interface>
    </composite:interface>

    <composite:implementation>

        <ui:fragment rendered="#{externalLoginBean.wizzardMode=='page1'}">
            <h2>
                <h:outputText value="#{msgs.login_new_account}" />
            </h2>

            <!-- firstname -->
            <div class="form-group">
                <zlb:label
                    labelFor="firstname"
                    labelText="#{msgs.firstname}"
                    labelHelpText="Lorem ipsum dolor sit amet, consetetur sadipscing elitr"
                    labelRequired="true"
                />

                <x:inputText
                    id="firstname"
                    pt:aria-label="#{msgs.firstname}"
                    forceId="true"
                    styleClass="form-control"
                    value="#{externalLoginBean.firstname}">
                    <f:passThroughAttribute
                        name="placeholder"
                        value="#{msgs.firstname}" />
                </x:inputText>
            </div>

            <!-- lastname -->
            <div class="form-group">
                <zlb:label
                    labelFor="lastname"
                    labelText="#{msgs.lastname}"
                    labelHelpText="Lorem ipsum dolor sit amet, consetetur sadipscing elitr"
                    labelRequired="true"
                />

                <x:inputText
                    id="lastname"
                    pt:aria-label="#{msgs.lastname}"
                    forceId="true"
                    styleClass="form-control"
                    value="#{externalLoginBean.lastname}">
                    <f:passThroughAttribute
                        name="placeholder"
                        value="#{msgs.lastname}" />
                </x:inputText>
            </div>

            <!-- account name -->
            <!--
            <div class="form-group">
                <zlb:label
                    labelFor="accountName"
                    labelText="#{msgs.login_new_account_accountName}"
                    labelHelpText="Lorem ipsum dolor sit amet, consetetur sadipscing elitr"
                    labelRequired="true"
                />

                <x:inputText
                    id="accountName"
                    pt:aria-label="#{msgs.login_new_account_accountName}"
                    forceId="true"
                    styleClass="form-control"
                    value="#{externalLoginBean.accountName}"
                    required="true">
                    <f:passThroughAttribute
                        name="placeholder"
                        value="#{msgs.login_new_account_accountName}" />
                </x:inputText>

            </div>
            -->

            <!-- password -->
            <div class="form-group">
                <zlb:label
                    labelFor="password"
                    labelText="#{msgs.login_new_account_password}"
                    labelHelpText="Lorem ipsum dolor sit amet, consetetur sadipscing elitr"
                    labelRequired="true"
                />

                <x:inputSecret
                    id="password"
                    pt:aria-label="#{msgs.login_new_account_password}"
                    forceId="true"
                    styleClass="form-control"
                    value="#{externalLoginBean.password}"
                    required="true">
                    <f:passThroughAttribute
                        name="placeholder"
                        value="#{msgs.login_new_account_password}" />
                </x:inputSecret>
            </div>

            <!-- confirm password -->
            <div class="form-group">
                <zlb:label
                    labelFor="password2"
                    labelText="#{msgs.login_new_account_password2}"
                    labelHelpText="Lorem ipsum dolor sit amet, consetetur sadipscing elitr"
                    labelRequired="true"
                />

                <x:inputSecret
                    id="password2"
                    pt:aria-label="#{msgs.login_new_account_password2}"
                    forceId="true"
                    styleClass="form-control"
                    value="#{externalLoginBean.confirmPassword}"
                    required="true">
                    <f:passThroughAttribute
                        name="placeholder"
                        value="#{msgs.login_new_account_password2}" />
                </x:inputSecret>
            </div>


            <!-- email address -->
            <div class="form-group">
                <zlb:label
                    labelFor="emailAddress"
                    labelText="#{msgs.login_new_account_emailAddress}"
                    labelHelpText="Lorem ipsum dolor sit amet, consetetur sadipscing elitr"
                    labelRequired="true"
                />

                <x:inputText
                    id="emailAddress"
                    pt:aria-label="#{msgs.login_new_account_emailAddress}"
                    forceId="true"
                    styleClass="form-control"
                    value="#{externalLoginBean.emailAddress}"
                    required="true">
                    <f:passThroughAttribute
                        name="placeholder"
                        value="#{msgs.login_new_account_emailAddress}" />
                </x:inputText>
            </div>

            <!-- confirm email -->
            <div class="form-group">
                <zlb:label
                    labelFor="emailAddress2"
                    labelText="#{msgs.login_new_account_emailAddress2}"
                    labelHelpText="Lorem ipsum dolor sit amet, consetetur sadipscing elitr"
                    labelRequired="true"
                />

                <x:inputText
                    id="emailAddress2"
                    pt:aria-label="#{msgs.login_new_account_emailAddress2}"
                    forceId="true"
                    styleClass="form-control"
                    value="#{externalLoginBean.confirmEmailAddress}"
                    required="true">
                    <f:passThroughAttribute
                        name="placeholder"
                        value="#{msgs.login_new_account_emailAddress2}" />
                </x:inputText>
            </div>

            <div class="form-group confirm-privacy">

                <h:selectBooleanCheckbox
                    id="privacyStatement"
                    pt:aria-label="#{msgs.login_new_account_confirmPrivacyStatement}"
                    forceId="true"
                    styleClass="form-check-input"
                    value="#{externalLoginBean.privacyTextAccepted}"
                    required="true">
                </h:selectBooleanCheckbox>

                <zlb:label
                    labelFor="privacyStatement"
                    labelText="#{msgs.login_new_account_confirmPrivacyStatement}"
                    labelHelpText="Lorem ipsum dolor sit amet, consetetur sadipscing elitr"
                    labelRequired="true"
                />
            </div>

            <div class="form-actions">
                <!-- create button -->
                <button
                    jsf:action="#{externalLoginBean.createAccount}"
                    jsf:id="create"
                    class="btn btn-primary-400 me-2"
                >
                    <h:outputText value="#{msgs.login_new_account_createAccount}" />
                </button>
                <!-- cancel button -->
                <button
                    jsf:id="back"
                    class="btn btn-blank"
                    jsf:immediate="true">
                    <f:setPropertyActionListener
                        value=""
                        target="#{externalLoginBean.uiStatus}" />
                    <h:outputText value="#{msgs.abbrechen}" />
                </button>
            </div>
        </ui:fragment>

        <ui:fragment rendered="#{externalLoginBean.wizzardMode=='page2'}">
            <h2>
                <h:outputText value="#{msgs.login_new_institution}" />
            </h2>
            <div class="form-group">
                <h:outputLabel
                    for="institutionName"
                    value="#{msgs.login_new_account_institutionName}" />
                <i
                    class="fa fa-asterisk pull-right font-asterisk"
                    title="#{msgs.requiredField}"
                    data-toggle="tooltip" />

                <div class="email controls">
                    <x:inputText
                        id="institutionName"
                        pt:aria-label="#{msgs.login_new_account_institutionName}"
                        forceId="true"
                        styleClass="form-control"
                        value="#{externalLoginBean.institutionName}"
                        required="false">
                        <f:passThroughAttribute
                            name="placeholder"
                            value="#{msgs.login_new_account_institutionName}" />
                    </x:inputText>
                    <h:panelGroup
                        layout="block"
                        rendered="#{externalLoginBean.institutionNameInvalid}"
                        styleClass="font-danger validation-message">
                        <h:outputText value="#{msgs.login_new_account_institutionNameInvalid}" />
                    </h:panelGroup>
                    <h:outputText
                        styleClass="help-block font-light"
                        rendered="#{NavigationForm.showHelp}"
                        value="#{fieldy.login_new_account_institutionNameHelp}" />
                </div>
            </div>

            <ui:repeat
                var="field"
                value="#{externalLoginBean.additionalFields['page2']}">

                <div class="form-group">
                    <h:outputLabel value="#{field.label}" />
                    <i
                        jsf:rendered="#{field.required}"
                        class="fa fa-asterisk pull-right font-asterisk"
                        title="#{msgs.requiredField}"
                        data-toggle="tooltip" />

                    <div class="email controls">
                        <x:inputText
                            id="input"
                            rendered="#{field.fieldType=='input'}"
                            pt:aria-label="#{field.label}"
                            styleClass="form-control"
                            value="#{field.value}">
                            <f:ajax
                                render="@this"
                                execute="@this" />
                            <f:passThroughAttribute
                                name="placeholder"
                                value="#{field.label}" />
                        </x:inputText>
                        <x:inputTextarea
                            id="textarea"
                            rendered="#{field.fieldType=='textarea'}"
                            pt:aria-label="#{field.label}"
                            styleClass="form-control"
                            value="#{field.value}">
                            <f:ajax
                                render="@this"
                                execute="@this" />
                            <f:passThroughAttribute
                                name="placeholder"
                                value="#{field.label}" />
                        </x:inputTextarea>
                        <h:selectOneMenu
                            id="dropdown"
                            rendered="#{field.fieldType=='dropdown'}"
                            styleClass="form-control"
                            value="#{field.value}"
                            pt:aria-label="#{field.label}">
                            <f:selectItem
                                itemValue="null"
                                itemLabel="#{msgs.bitteAuswaehlen}" />
                            <f:ajax
                                render="@this"
                                execute="@this" />
                            <f:selectItems value="#{field.selectItemList}" />
                        </h:selectOneMenu>
                        <h:selectBooleanCheckbox
                            rendered="#{field.fieldType=='checkbox' or field.fieldType=='combo'}"
                            pt:aria-label="#{field.label}"
                            styleClass="form-control"
                            value="#{field.booleanValue}">
                            <f:ajax
                                render="@form"
                                execute="@this" />
                        </h:selectBooleanCheckbox>
                        <h:selectOneRadio
                            id="radio"
                            rendered="#{field.fieldType=='combo' and field.booleanValue}"
                            styleClass="form-control"
                            value="#{field.subValue}">
                            <f:ajax
                                render="@form"
                                execute="@this" />
                            <f:selectItems value="#{field.selectItemList}" />
                        </h:selectOneRadio>

                        <h:panelGroup
                            layout="block"
                            rendered="#{field.validationError}"
                            styleClass="font-danger validation-message">
                            <h:outputText value="#{field.validationErrorMessage}" />
                        </h:panelGroup>
                        <h:outputText
                            styleClass="help-block font-light"
                            rendered="#{NavigationForm.showHelp}"
                            value="#{fieldy.helpMessage}" />
                    </div>
                </div>
            </ui:repeat>
        </ui:fragment>

        <ui:fragment rendered="#{externalLoginBean.wizzardMode=='page3'}">
            <h2>
                <h:outputText value="#{msgs.login_new_contact}" />
            </h2>
            <ui:repeat
                var="field"
                value="#{externalLoginBean.additionalFields['page3']}">

                <div class="form-group">
                    <h:outputLabel value="#{field.label}" />
                    <i
                        jsf:rendered="#{field.required}"
                        class="fa fa-asterisk pull-right font-asterisk"
                        title="#{msgs.requiredField}"
                        data-toggle="tooltip" />
                    <div class="email controls">
                        <x:inputText
                            rendered="#{field.fieldType=='input'}"
                            pt:aria-label="#{field.label}"
                            styleClass="form-control"
                            value="#{field.value}">
                            <f:ajax
                                render="@this"
                                execute="@this" />
                            <f:passThroughAttribute
                                name="placeholder"
                                value="#{field.label}" />
                        </x:inputText>
                        <x:inputTextarea
                            rendered="#{field.fieldType=='textarea'}"
                            pt:aria-label="#{field.label}"
                            styleClass="form-control"
                            value="#{field.value}">
                            <f:ajax
                                render="@this"
                                execute="@this" />
                            <f:passThroughAttribute
                                name="placeholder"
                                value="#{field.label}" />
                        </x:inputTextarea>
                        <h:selectOneMenu
                            rendered="#{field.fieldType=='dropdown'}"
                            styleClass="form-control"
                            value="#{field.value}"
                            pt:aria-label="#{field.label}">
                            <f:selectItem
                                itemValue="null"
                                itemLabel="#{msgs.bitteAuswaehlen}" />
                            <f:ajax
                                render="@this"
                                execute="@this" />
                            <f:selectItems value="#{field.selectItemList}" />
                        </h:selectOneMenu>
                        <h:selectBooleanCheckbox
                            rendered="#{field.fieldType=='checkbox' or field.fieldType=='combo'}"
                            pt:aria-label="#{field.label}"
                            styleClass="form-control"
                            value="#{field.booleanValue}">
                            <f:ajax
                                render="@form"
                                execute="@this" />
                        </h:selectBooleanCheckbox>
                        <h:selectOneRadio
                            rendered="#{field.fieldType=='combo' and field.booleanValue}"
                            styleClass="form-control"
                            value="#{field.subValue}">
                            <f:ajax
                                render="@form"
                                execute="@this" />
                            <f:selectItems value="#{field.selectItemList}" />
                        </h:selectOneRadio>
                        <h:panelGroup
                            layout="block"
                            rendered="#{field.validationError}"
                            styleClass="font-danger validation-message">
                            <h:outputText value="#{field.validationErrorMessage}" />
                        </h:panelGroup>
                        <h:outputText
                            styleClass="help-block font-light"
                            rendered="#{NavigationForm.showHelp}"
                            value="#{fieldy.helpMessage}" />
                    </div>
                </div>
            </ui:repeat>


        </ui:fragment>

        <ui:fragment rendered="#{externalLoginBean.wizzardMode=='page4'}">
            <h2>
                <h:outputText value="#{msgs.login_new_additionalData}" />
            </h2>

            <ui:repeat
                var="field"
                value="#{externalLoginBean.additionalFields['page4']}">

                <div class="form-group">
                    <h:outputLabel value="#{field.label}" />
                    <i
                        jsf:rendered="#{field.required}"
                        class="fa fa-asterisk pull-right font-asterisk"
                        title="#{msgs.requiredField}"
                        data-toggle="tooltip" />
                    <div class="email controls">
                        <x:inputText
                            rendered="#{field.fieldType=='input'}"
                            pt:aria-label="#{field.label}"
                            styleClass="form-control"
                            value="#{field.value}">
                            <f:ajax
                                render="@this"
                                execute="@this" />
                            <f:passThroughAttribute
                                name="placeholder"
                                value="#{field.label}" />
                        </x:inputText>
                        <x:inputTextarea
                            rendered="#{field.fieldType=='textarea'}"
                            pt:aria-label="#{field.label}"
                            styleClass="form-control"
                            value="#{field.value}">
                            <f:ajax
                                render="@this"
                                execute="@this" />
                            <f:passThroughAttribute
                                name="placeholder"
                                value="#{field.label}" />
                        </x:inputTextarea>
                        <h:selectOneMenu
                            rendered="#{field.fieldType=='dropdown'}"
                            styleClass="form-control"
                            value="#{field.value}"
                            pt:aria-label="#{field.label}">
                            <f:selectItem
                                itemValue="null"
                                itemLabel="#{msgs.bitteAuswaehlen}" />
                            <f:ajax
                                render="@this"
                                execute="@this" />
                            <f:selectItems value="#{field.selectItemList}" />
                        </h:selectOneMenu>
                        <h:selectBooleanCheckbox
                            rendered="#{field.fieldType=='checkbox' or field.fieldType=='combo'}"
                            pt:aria-label="#{field.label}"
                            styleClass="form-control"
                            value="#{field.booleanValue}">
                            <f:ajax
                                render="@form"
                                execute="@this" />
                        </h:selectBooleanCheckbox>
                        <h:selectOneRadio
                            rendered="#{field.fieldType=='combo' and field.booleanValue}"
                            styleClass="form-control"
                            value="#{field.subValue}">
                            <f:ajax
                                render="@form"
                                execute="@this" />
                            <f:selectItems value="#{field.selectItemList}" />
                        </h:selectOneRadio>
                        <h:panelGroup
                            layout="block"
                            rendered="#{field.validationError}"
                            styleClass="font-danger validation-message">
                            <h:outputText value="#{field.validationErrorMessage}" />
                        </h:panelGroup>
                        <h:outputText
                            styleClass="help-block font-light"
                            rendered="#{NavigationForm.showHelp}"
                            value="#{fieldy.helpMessage}" />
                    </div>
                </div>
            </ui:repeat>


        </ui:fragment>
        <ui:fragment rendered="#{externalLoginBean.wizzardMode=='page5'}">
            <h2>
                <h:outputText value="#{msgs.login_new_activation}" />
            </h2>

            <!-- show all fields in read only mode -->
            <h3>
                <h:outputText value="#{msgs.login_new_institution}" />
            </h3>
            <intranda:formOutputText
                label="#{msgs.login_new_account_institutionName}"
                field="#{externalLoginBean.institutionName}"
                name="institutionName"
                fieldStyle="form-control" />
            <ui:repeat
                var="field"
                value="#{externalLoginBean.additionalFields['page2']}">
                <intranda:formOutputText
                    name="field"
                    label="#{field.label}"
                    field="#{field.value}"
                    fieldStyle="form-control" />
            </ui:repeat>
            <h3>
                <h:outputText value="#{msgs.login_new_contact}" />
            </h3>
            <ui:repeat
                var="field"
                value="#{externalLoginBean.additionalFields['page3']}">
                <intranda:formOutputText
                    name="field"
                    label="#{field.label}"
                    field="#{field.value}"
                    fieldStyle="form-control" />
            </ui:repeat>
            <h3>
                <h:outputText value="#{msgs.login_new_additionalData}" />
            </h3>

            <ui:repeat
                var="field"
                value="#{externalLoginBean.additionalFields['page4']}">
                <intranda:formOutputText
                    name="field"
                    label="#{field.label}"
                    field="#{field.value}"
                    fieldStyle="form-control" />
            </ui:repeat>

Freischaltung:* Hiermit beantrage ich die Freischaltung zur Ablieferung digitaler Pflichtpublikationen
</ui:fragment>

        <ui:fragment rendered="#{externalLoginBean.wizzardMode!='page1'}">
            <div class="submit">
                <button
                    jsf:rendered="#{externalLoginBean.wizzardMode!='page2'}"
                    jsf:action="#{externalLoginBean.back}"
                    jsf:id="goBack"
                    class="float-left btn btn-primary font-size-s">
                    <h:outputText value="#{msgs.back}" />
                </button>

                <button
                    jsf:rendered="#{externalLoginBean.wizzardMode!='page5'}"
                    jsf:id="goNext"
                    jsf:action="#{externalLoginBean.next}"
                    style="margin-bottom: 20px;"
                    class="btn btn-primary font-size-s pull-right">
                    <h:outputText value="#{msgs.next}" />
                </button>

                <button
                    jsf:rendered="#{externalLoginBean.wizzardMode=='page5'}"
                    jsf:id="createInsitution"
                    jsf:action="#{externalLoginBean.createInstitution}"
                    style="margin-bottom: 20px;"
                    class="btn btn-primary font-size-s pull-right">
                    <h:outputText value="#{msgs.createInsitution}" />

                </button>

            </div>

        </ui:fragment>

    </composite:implementation>

</ui:composition>
