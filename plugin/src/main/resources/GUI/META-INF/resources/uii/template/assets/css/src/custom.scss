/* GENERAL */
@use "colors";

/* open-sans-regular - latin */
@font-face {
  font-family: "Open Sans";
  font-style: normal;
  font-weight: 400;
  src: url("../../fonts/open-sans-v29-latin-regular.eot"); /* IE9 Compat Modes */
  src: local(""),
    url("../../fonts/open-sans-v29-latin-regular.eot?#iefix")
      format("embedded-opentype"),
    /* IE6-IE8 */ url("../../fonts/open-sans-v29-latin-regular.woff2")
      format("woff2"),
    /* Super Modern Browsers */
      url("../../fonts/open-sans-v29-latin-regular.woff") format("woff"),
    /* Modern Browsers */ url("../../fonts/open-sans-v29-latin-regular.ttf")
      format("truetype"),
    /* Safari, Android, iOS */
      url("../../fonts/open-sans-v29-latin-regular.svg#OpenSans") format("svg"); /* Legacy iOS */
}

:root {
  --clr-primary-200: rgb(110, 23, 105, 0.6);
  --clr-primary-400: #6e1769;
  --clr-primary-600: hsl(303, 65%, 20%);
  --clr-secondary-400: #727c87;
  --clr-secondary-400: #4d595b;
  --clr-neutral-400: #eeeeee;
  --clr-neutral-600: #c4c4c4;
  --clr-neutral-800: #6e747c;

  --clr-accent: #ffa100;
  --clr-success: #16882e;
  --clr-danger: #d30404;

  --clr-text-body: #333333;
  --clr-text-light: #ffffff;

  /* Sizing */
  --fs-100: 1.2rem;
  --fs-200: 1.4rem;
  --fs-400: 1.6rem;
  --gap: 2.4rem;
  --border-color: #ced4da;
  --border-radius: 2px;
  --bs-body-font-family: "Open Sans", sans-serif;

  /* Grid */
  --grid-tc: repeat(auto-fit, minmax(45rem, 1fr));

  --height-footer-and-nav: 303px;
}

/* GENERAL */
.tooltip {
  font-size: var(--fs-200);
}

// Reset counter globally
#login-body {
  counter-reset: section;
}

/* LAYOUT */
html {
  font-size: 62.5%;
}

body {
  overflow-x: hidden;
  min-height: 100vh;
  width: 100vw;
  font-family: "Open Sans", sans-serif;
  font-size: var(--fs-400);
}

/* Override BS inline padding (applied when opening a modal) */
body.modal-open {
  padding-right: 0 !important;
}

/* TYPOGRAPHY */

h1,
h2 {
  color: var(--clr-primary-400);
  a {
    color: inherit;
    text-decoration: none;
    &:hover {
      color: var(--clr-accent);
    }
  }
}


h2 {
  font-size: 2.2rem;
  line-height: 2.6rem;
}


.page {
  &__heading {
    grid-column: 1 / -1;
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 8rem 0 6.4rem 0;
  }
  &__help {
    padding-right: 0;
    svg {
      width: 3.2rem;
      height: 3.2rem;
      fill: var(--clr-primary-400);
    }
  }
}

a, .btn-link,
.confirm-privacy.confirm-privacy a {
  background: transparent;
  color: var(--clr-primary-400);
  cursor: pointer;

  &:focus,
  &:hover,
  &:active {
    color: var(--clr-accent);
  }
}

/* Buttons */
.btn {
  font-size: 1.6rem;
}

.btn-primary-400:hover {
  background-color: var(--clr-primary-200);
  border-color: var(--clr-primary-200);
}

.btn-blank {
  color: var(--clr-text-body);
  border-color: var(--clr-text-body);
}

.btn-blank:hover {
  background-color: var(--clr-text-body);
  border-color: var(--clr-text-body);
  color: var(--clr-text-light);
}

/* HEADER */

.header .nav-link {
  text-decoration: none;
}

header .container-fluid {
  font-size: var(--fs-400);
  position: relative;
  display: flex;
  justify-content: space-between;
  align-items: center;
  min-height: 55px;
  padding: 0.8rem;
  padding-left: 4.8rem;
  padding-right: 4.8rem;

  &.header__upper {
    background: var(--clr-secondary-400);
    border-bottom: 2px solid var(--clr-accent);
    color: var(--clr-text-light);
  }
  &.header__lower {
    display: flex;
    justify-content: center;
    padding-left: 12rem;
    padding-right: 12rem;
    padding-top: 1.6rem;
    padding-bottom: 4rem;
    margin-top: 1.6rem;
    margin-bottom: 3.2rem;

    border-bottom: 1px solid var(--clr-neutral-600);
    width: 100%;

    text-transform: uppercase;

    h1 {
      font-size: 3.6rem;
    }

    svg {
      margin-right: auto;
      color: inherit;
    }
  }
}

// Language + Logout
.actions form{
  display: flex;
  align-items: center;
}
.actions a {
  color: #fff;

  &:focus,
  &:hover,
  &:active {
    color: var(--clr-accent);
  }

  // Do not display default array down
  &::after {
    display: none;
  }
}


.language-select__locale {
  text-transform: uppercase;
  margin-left: 8px;
  margin-right: 24px;
}

.user__account-menu__name {
  margin-right: 8px;
}

.dropdown-menu span,
.dropdown-menu i {
  color: var(--clr-text-body);
  font-size: var(--fs-400);
}

/* lower header => actions: help button */
.actions__help {
  display: flex;
  align-items: center;
  gap: 8px;
  color: var(--clr-primary-400);
  margin-left: auto;
  font-size: 2.2rem;
  text-transform: capitalize;
  svg {
    width: 2.2rem;
    height: 2.2rem;
  }
}

@media (max-width: 900px) {
  .header__lower {
    flex-wrap: wrap;
    text-align: center;

    /* do not show goobi logo on small screens */
    & > svg {
      display: none;
    }
    .actions__help {
      margin: 0 auto;
    }
  }
}

// Header on smaller screens
@media (max-width: 600px) {
  header .container-fluid {
    padding: 0.8rem;
  }
  .language-select__locale,
  .user__account-menu__name {
    display: none;
  }
  .actions__lang svg {
    width: 3.2rem;
    height: 3.2rem;
  }
}

.brand {
  display: flex;
  text-decoration: none;
}

.brand__logo {
  padding-right: 8px;
  margin-right: 8px;
  border-right: 1px solid #fff;
}

// Header on smaller screens
@media (max-width: 800px) {
  .brand__logo {
    border-right: 0;
  }
  .brand__copy {
    display: none;
  }
}

.brand__copy,
.brand__copy:focus,
.brand__copy:hover,
.brand__copy:active,
.brand__copy:visited {
  color: #fff;
}

.actions {
  display: flex;
  gap: 32px;
  align-items: center;
}
.actions__help {
}

.actions__lang {
}

.actions__user {
  display: flex;
  align-items: center;
  gap: 8px;
}

main {
  display: flex;
  align-items: center;
  flex-direction: column;
  min-height: calc(100vh - var(--height-footer-and-nav));
}

main h1 {
  display: flex;
  justify-content: center;
  padding-left: 12rem;
  padding-right: 12rem;
  padding-top: 16px;
  padding-bottom: 40px;
  margin-top: 16px;
  margin-bottom: 32px;

  border-bottom: 1px solid var(--clr-neutral-600);
  width: 100%;

  font-size: 3.6rem;
  text-transform: uppercase;
}

main h1 a {
  margin-left: auto;
}

main h1 svg {
  margin-left: auto;
}

/* Form elements */

.zlb-label {
  margin-bottom: 0.8rem;
  grid-column: 1 / -1;
}

section .overview .form-check {
  padding-left: 0;
}

@media (min-width: 900px) {
  .overview .form-check {
    max-width: 45%;
  }
}

.form-check .zlb-label {
  margin: 0;
}

.info-required {
  font-size: var(--fs-200);
  margin-bottom: 2.4rem;
  span {
    color: var(--clr-primary-400);
  }
}

/* custom styles */
.form {
  position: relative;
  display: grid;
  grid-template-columns: 4fr 6rem;
  align-items: center;
  @media screen and (max-width: 620px) {
    --grid-tc: 100%;
  }
  &--full-width {
    grid-template-columns: 1fr;
  }
  &--full-width input {
    grid-column: 1 / -1;
  }

  label {
    margin-bottom: 0.8rem;
    font-size: 1.6rem;
    color: var(--clr-text-body);
  }

  /*
  input:not([type="checkbox"]) {
    height: 3.8rem;
    grid-column: 1;
  }
  */

  .email.controls {
    color: var(--clr-neutral-800);
    font-size: var(--fs-200);
  }
}

/* VALIDATION */
.validate--danger input {
  border-color: var(--clr-danger);
}

input ~ .font-danger {
  color: var(--clr-danger);
  font-size: var(--fs-200);
}

.help-text {
  grid-column: 1;
  margin-left: 2px;
  min-height: 4rem;
  color: var(--clr-neutral-800);
  font-size: var(--fs-200);

  &.vis-hidden {
    visibility: hidden;
  }
}

.input-required {
  vertical-align: super;
  font-size: 1rem;
  color: var(--clr-primary-400);
}

.form-icons {
  display: flex;
  justify-content: flex-end;
  color: var(--clr-primary-400);

  &__button {
    display: flex;
    align-items: center;
    width: 3.2rem;
    height: 3.2rem;
    margin-inline-start: 0.2rem;
    background-color: transparent;
    border: 0;
    color: inherit;
    cursor: pointer;

    svg {
      pointer-events: none;
    }
  }
}

.form-group svg {
  height: 1.6rem;
  width: 1.6rem;
  cursor: pointer;
  margin-left: 4px;
  color: var(--clr-primary-400);
  vertical-align: super;
}

.form-group .fa-asterisk {
  font-size: 0.8rem;
  vertical-align: super;
}

.form-control {
  padding: 0.375em 0.75em;
  font-size: 1.6rem;
}

.form-text {
  font-size: 1.2rem;
}

.form-actions {
  padding-left: 0;
  padding-right: 0;
  grid-column: -1 / 1;
}

// Checkboxes
.confirm-privacy,
.form-check {
  align-items: center;
  align-self: flex-end;
  font-size: var(--fs-400);
}

.form-check-input:checked {
  background-color: var(--clr-primary-400);
  border: var(--clr-primary-400);
}

/* FOOTER */

.footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: var(--clr-secondary-400);
  min-height: 84px;
  border-top: 2px solid var(--clr-accent);
  color: var(--clr-text-light);
}

@media only screen and (min-width: 800px) {
  .footer.container-fluid {
    padding-right: 20rem;
    padding-left: 20rem;
  }
}

.footer .links {
  display: flex;
  justify-content: space-between;
  width: 100%;
  font-size: var(--fs-400);
}
.footer .links__social {
  margin-right: 1.6rem;
}

.footer .links__legal {
  margin-left: auto;
}

.footer .links__legal a {
  margin-right: 1.6rem;
}
.footer a {
  color: var(--clr-text-light);
  text-decoration: none;
}

.footer a:focus,
.footer a:hover,
.footer a:active {
  color: var(--clr-accent);
  text-decoration: underline;
}

.additional-data {
  .form-group label {
    font-size: var(--fs-400);
    display: inline;
  }

  input[type="checkbox"] {
    width: 16px;
    height: 16px;
    display: inline-block;
    margin-right: 8px;
    padding: 0;
  }

  input[checked="checked"] {
    background-color: var(--clr-primary-400);
    border-color: var(--clr-primary-400);
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M6 10l3 3l6-6'/%3e%3c/svg%3e");
  }

  table td {
    display: flex;
    gap: 8px;
  }

  [type="radio"] {
    background-color: var(--clr-primary-400);
    border-color: var(--clr-primary-400);
  }
}

.common-region {
  display: grid;
  grid-template-columns: var(--grid-tc);
  grid-auto-rows: auto;
  gap: var(--gap);
  row-gap: calc(var(--gap) + 1rem);
  column-gap: calc(var(--gap) + 3rem);
  align-items: baseline; // align items when some show info/error message

  padding: 3.2rem 2.4rem;
  border: 1px solid var(--border-color);
  border-radius: var(--border-radius);
  margin-bottom: var(--gap);

  &.one-col {
    --grid-tc: 1fr;
  }
  &--no-borders {
    border: 0;
  }

  /* standard is 2 columns
   * 2 cols are used in views with inputs
   * 3 cols in views with boxes (usually overviews of possible user actions)
   */
  &--three-cols {
    --grid-tc: repeat(auto-fit, minmax(34rem, 1fr));
    // stretch all items to the same hight (always fill up grid rows completely)
    align-items: unset;
    grid-auto-rows: auto;
    padding: 3.2rem 0;
  }
}

.layout #globalWarningMessage {
  grid-column: 1 / -1;
}

/* COMPONENTS */

/* Modal */
.modal {
  &-dialog {
    font-size: (var(--fs-400));
    max-width: 900px;
  }

  &-content {
    padding: 2.4rem 4rem;
    border: 0;
    border-radius: var(--border-radius);
  }
  &-header,
  &-footer {
    border-top: 0;
    border-bottom: 0;
  }
  &__img {
    margin-top: 1.6rem;
    margin-bottom: 1.6rem;
    width: 100%;
  }
}

/* Progress bar */
.zlb-progress {
  --progress-step-width: 16px;
  --progress-line-height: 2px;

  position: relative;
  margin: 0.8rem auto;
  width: 70%;
  display: flex;
  justify-content: space-between;

  &::after {
    position: absolute;
    display: inline-block;
    content: "";
    height: var(--progress-line-height);
    transform: translateY(-50%);
    top: calc(var(--progress-step-width) / 2 + var(--progress-line-height) / 2);
    width: 100%;
    z-index: -1;
    background-color: var(--clr-neutral-600);
  }
  &__step {
    position: relative;
    display: flex;

    &__link {
      display: flex;
      justify-content: center;
      text-decoration: none;
      color: var(--clr-text-body);
      font-size: var(--fs-200);

      &::before {
        display: inline-block;
        position: absolute;
        content: "";
        width: var(--progress-step-width);
        height: var(--progress-step-width);
        border-radius: 32px;
        background-color: var(--clr-neutral-600);
      }

      &:hover {
        text-decoration: underline;
        color: var(--clr-primary-400);
      }

      // Step status
      &.pending::before {
        background-color: var(--clr-neutral-600);
      }
      &.active::before {
        background-color: var(--clr-accent);
      }
      &.done::before {
        background-color: var(--clr-success);
      }
    }

    &:last-child .zlb-progress__step__link {
      justify-content: flex-end;
    }

    &:first-child .zlb-progress__step__link {
      justify-content: flex-start;
    }
  }

  &__step__name {
    margin-top: 1.6rem;
  }
}

///////////
// Status bar delivery Plugin
//
.statuslist {
  --progress-step-width: 16px;
  --progress-line-height: 2px;

  position: relative;
  margin: 0.8rem auto;
  width: 100%;
  display: flex;
  justify-content: space-between;

}

.statuslist {
  li {
    position: relative;
    display: flex;
    width: 10%;
    justify-content: center;
    overflow: initial !important;
  }


  // Steps
  li::after {
      position: absolute;
      display: inline-block;
      content: "";
      height: var(--progress-line-height);
      transform: translateY(-50%);
      top: calc(var(--progress-step-width) / 2 + var(--progress-line-height) / 2);
      left: calc(-100% + var(--progress-step-width) / 4);
      width: 150%;
      z-index: -1;
      background-color: var(--clr-neutral-600);
  }

  li:first-child,
  li:last-child,
  li:nth-child(-n+2)::after,
  li:last-child::after {
    width: unset;
  }

  // Line connecting status steps
  li::before {
    display: inline-block;
    position: absolute;
    content: "";
    width: var(--progress-step-width);
    height: var(--progress-step-width);
    border-radius: 32px;
    background-color: var(--clr-neutral-600);
  }

  li:first-child::before,
  li:last-child::before {
    display: none;

  }

  // Step name
  li span {
    margin-top: 24px;
    display: flex;
    text-align: center;
  }

  // back + next btn
  li button {
    align-self: start;
  }

  // step color code status
  li.active::before {
    background-color: var(--clr-accent);
  }

  li.finished::before {
    background-color: var(--clr-success);
  }
} // end .statuslist


@media (max-width: 1000px) {
  /* Make status bar larger than the container */
  .container-escape {
    width: 100vw;
    position: relative;
    margin-left: -50vw;
    height: 100px;
    margin-top: 100px;
    left: 50%;
    padding: 0 16px;
  }
}

@media (max-width: 640px) {
  /* Don't show step name on small screens */
  .statuslist .status {
    display: none;
  }
}


//////
//
//
.form-actions:not(.form-actions--progress) {
  margin-left: auto;
}
.form-actions.form-actions--progress {
  display: flex;

  margin: 7.2rem 0 9.6rem 0;

  .btn {
    align-self: baseline;
  }
  .btn-primary-400 {
    background-color: var(--clr-success);
    border-color: var(--clr-success);

    &:hover {
      filter: brightness(110%);
      filter: brightness(80%);
    }
  }
}

/* Utilities */
.column-start {
  grid-column: 1 / 1;
}

.grid-full-width {
  grid-column: 1 / -1;
}

.corporategrid {
  display: grid;
  gap: calc(var(--gap) / 2);
  grid-template-columns: 1fr 1fr;
}

.persongrid {
  display: grid;
  gap: calc(var(--gap) / 2);
  grid-template-columns: repeat(3, 1fr);
}

/* VIEWS */

// Login
.login-body {
  margin: auto;
  padding: 64px;
  background-color: var(--clr-neutral-400);
  max-width: 480px;
}

.login-body h2 {
  text-transform: uppercase;
  font-size: 3.6rem;
}

.messagesLogin {
  padding-left: 0;
  font-size: var(--fs-200);
  color: var(--clr-danger);
  li {
    list-style: none;
  }
}

.login-body {
  #loginForm {
    display: grid;
    grid-gap: var(--gap);
  }

  .form-actions .submit {
    display: flex;
    flex-wrap: wrap;
    justify-content: flex-end;
  }

  #loginButton {
    order: 1;
  }

  #resetPassword {
    width: 100%;
    text-align: end;
    order: 2;

    padding: 0;
    border: 0;
    margin: 0;
    margin-top: 1.6rem;
    color: var(--clr-primary-400);
  }
}

// Contact Person

#createNewContact {
  display: flex;
  align-items: center;
  color: var(--clr-primary-400);
  text-decoration: none;
}

#createNewContact span {
  display: flex;
  margin-left: .8rem;
  color: var(--clr-text-body);
}

// Additional data
.additional-data {
  .form-check {
    padding-left: 0;
  }
}

// User Creation: Overview
.overview {
  .common-region {
    font-size: var(--fs-400);
    font-family: "Open Sans", sans-serif;
  }
  h3 {
    color: var(--clr-primary-400);
  }

  .control-label {
    font-size: var(--fs-400);
    display: inline;
    font-weight: bold;
  }

  .control-label::after {
    content: ": ";
  }

  .col-sm-9 {
    display: inline-block;
    padding: 0;
    margin: 0;
  }

  .col-sm-9 span {
    padding: 0;
    margin: 0;
  }
}

/* Error pages */
#zlbEPflicht #navigation {
  display: none;

}

[action^="/goobi/uii/error.xhtml"] {
  font-size: var(--fs-400);
}

[action^="/goobi/uii/error.xhtml"] h1 {
  margin: 2.4rem 0;
  font-size: 4.8rem;
}

[action^="/goobi/uii/error.xhtml"] h4 {
  font-size: 2.4rem;
  color: var(--clr-primary-400);
}

[action^="/goobi/uii/error.xhtml"] .stats {

  padding: 0;
}


[action^="/goobi/uii/error.xhtml"] * {
  font-size: var(--fs-400);
}

[action^="/goobi/uii/error.xhtml"] i {
  margin-right: 8px;
}

[action^="/goobi/uii/error.xhtml"] .btn {
  background-color: var(--clr-primary-400);
  color: #fff;
  padding: 8px;
}

[action^="/goobi/uii/error.xhtml"] p:first-of-type {
  font-size: 2rem;
  color: var(--clr-danger);
}

/* CONTACT PERSONS (USER CREATION) */
.heading__contact {
  color: var(--clr-primary-400);
}

// Insert count
.heading__contact::before {
  counter-increment: section;
  content: counter(section)". "
}


/* MEDIA QUERIES */

@media (max-width: 900px) {
  .common-region {
    --grid-tc: 1fr;
    padding: 1.6rem 1.6rem;
  }
  .zlb-progress__step__name {
    display: none;
  }
}
@media (max-width: 600px) {
  .zlb-progress {
    display: none;
  }
}
